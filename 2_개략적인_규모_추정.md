# 2장 개략적인 규모 추정
개략적인 규모 추정이란?
- 보편적으로 통용되는 성능 수치상에서 사고 실험을 행햐여 추정치를 계산하는 행위
- 개략적인 규모 추정을 해내려면 규모 확장성을 표현하는 데 필요한 기본기에 능숙해야 한다.
  - 2의 제곱수, 응답 지연값, ..
 
### 2의 제곱수
데이터 볼륨의 단위를 2의 제곱수로 표현하면 어떻게 되는지 알아야 한다.
- 최소 단위는 1바이트이고, 8비트로 구성됨

### 응답지연 값
ns = 나노초, ms = 밀리초

### 가용성에 관계된 수치들
고가용성은 시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력 
고가용성은 퍼센트로 표현하는데, 100%는 시스템이 단 한번도 중단된 적이 없엄음을 의미

##### SLA (service level agreement)
서비스 사업자(service provider)가 보편적으로 사용하는 용어로, 서비스 사업자와 고객 사이에 맺어진 합의를 의미한다
이 합이에는 서비스 가용시간이 공시적으로 기술되어 있다.

EX) 
- 트위터의 월간 능동사용자는 3억명
- 50% 사용자가 매일 트위터를 함
- 평균적으로 사용자는 매일 2건의 트윗을 올림
- 미디어를 포함하는 트윗은 10%
- 데이터는 5년간 보관됨

추정
- QPS (Query Per Second) : 요청이 초당으로 얼마나 처리되는지 (참고로 TPS는 초당 발생하는 트랜잭션)
  - DAU = 1.5억 = 3억 * 50% (순 유저수)
    - 3억명 중 50%의 사용자가 매일 이용한다.
  - QPS = 약 3500 = 1.5억 * 2트윗 / 24시간 / 3600초
    - 1.5억명의 사용자가 매일 2건의 트윗을 올린다
    - 1초에 약 3500건의 트윗이 올라온다.
  - 최대 QPS = 2 * QPS
    - 평균적으로 1초당 3500개의 요청이 발생하지만, 트래픽이 몰리는 시간대에는 초당 요청 수가 평균의 2배 또는 그 이상이 될 수 있음
    - 따라서, 최대 QPS는 평균 QPS의 2배로 보수적으로 추정합니다.


TIP. 근사치를 활용하여 계산하자
 

  
